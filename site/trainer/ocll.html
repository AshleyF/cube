<!DOCTYPE html>
<html lang=en>
    <head>
        <title>Orient Corners of Last Layer (OCLL)</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="styles.css">
        <script src="jquery.min.js"></script>
        <script src="roofpig_and_three.min.js"></script>
        <script src="cube.js"></script>
        <script src="display.js"></script>
        <script src="giiker.js"></script>
        <script src="ui.js"></script>
        <script>
            function update(cube) {
                Display.displayLL(Cube.faces(cube), "ll");
            }

            function load() {
                function delay() { settingsUpdate(); }
                window.setTimeout(delay, 1);
            }

            function verifyCornersOriented(result) {
                if (Ui.settings.method == "cfop") {
                    return Cube.matchPattern("U.U...U.U...LLLLLL...FFFFFF...RRRRRRDDDDDDDDDBBBBBB...", result); // whole first two layers
                } else {
                    return Cube.matchPattern("U.U...U.U...LLLLLL...F.FF.F...RRRRRRD.DD.DD.DB.BB.B...", result); // M-slice free
                }
            }

            function settingsUpdate() {
                function addAlgIfChecked(name) {
                    var cb = document.getElementById(name);
                    if (cb.checked) {
                        Ui.settings.algs.push(cb.value);
                    }
                }
                Ui.settings.method = document.getElementById("method").value;
                Ui.settings.yellow = document.getElementById("yellow").checked;
                Ui.settings.white = document.getElementById("white").checked;
                Ui.settings.red = document.getElementById("red").checked;
                Ui.settings.orange = document.getElementById("orange").checked;
                Ui.settings.green = document.getElementById("green").checked;
                Ui.settings.blue = document.getElementById("blue").checked;
                if (!Ui.settings.yellow && !Ui.settings.white && !Ui.settings.red && !Ui.settings.orange && !Ui.settings.green && !Ui.settings.blue) {
                    // default
                    document.getElementById("yellow").checked = true;
                    Ui.settings.yellow = true;
                }
                document.getElementById("anyColor").checked = (Ui.settings.yellow && Ui.settings.white && Ui.settings.red && Ui.settings.orange && Ui.settings.green && Ui.settings.blue);
                Ui.settings.auf = document.getElementById("auf").checked;
                Ui.settings.algs = [];
                addAlgIfChecked("s");
                addAlgIfChecked("as");
                addAlgIfChecked("l");
                addAlgIfChecked("u");
                addAlgIfChecked("t");
                addAlgIfChecked("pi");
                addAlgIfChecked("h");
                if (Ui.settings.algs.length == 0) {
                    document.getElementById("s").checked = true;
                    addAlgIfChecked("s");
                }
                document.getElementById("anyCase").checked = (Ui.settings.algs.length == 7);
                Ui.next();
            }

            function settingsAnyColorUpdate() {
                var any = document.getElementById("anyColor").checked;
                document.getElementById("yellow").checked = true; // always
                document.getElementById("white").checked = any;
                document.getElementById("red").checked = any;
                document.getElementById("orange").checked = any;
                document.getElementById("green").checked = any;
                document.getElementById("blue").checked = any;
                settingsUpdate();
            }

            function settingsAnyCaseUpdate() {
                var any = document.getElementById("anyCase").checked;
                document.getElementById("s").checked = true; // always
                document.getElementById("as").checked = any;
                document.getElementById("l").checked = any;
                document.getElementById("u").checked = any;
                document.getElementById("t").checked = any;
                document.getElementById("pi").checked = any;
                document.getElementById("h").checked = any;
                settingsUpdate();
            }
        </script>
    </head>
    <body onload="load()" style="background: black">
        <h1>OCLL</h1>
        <div id="status"></div>
        <button id="giiker" onclick="Ui.giiker()">Connect</button>
        <button id="retry" onclick="Ui.retry()" disabled="disabled">Retry</button>
        <button onclick="Ui.next()">Next</button>
        <div id="ll"></div>
        <fieldset>
            <legend>Method</legend>
            <select id="method" onchange="settingsUpdate()">
                <option value="cfop">CFOP</option>
                <option value="roux" selected="selected">Roux</option>
            </select>
        </fieldset>
        <fieldset>
            <legend>Up Color</legend>
            <input id="anyColor" type="checkbox" value="anyColor" onchange="settingsAnyColorUpdate()"><label for="anyColor">Any</label>
            <hr style="border-color:#222;" />
            <input id="yellow" type="checkbox" value="yellow" checked="checked" onchange="settingsUpdate()"><label for="yellow">Yellow</label><br />
            <input id="white" type="checkbox" value="white" onchange="settingsUpdate()"><label for="white">White</label><br />
            <input id="red" type="checkbox" value="red" onchange="settingsUpdate()"><label for="red">Red</label><br />
            <input id="orange" type="checkbox" value="orange" onchange="settingsUpdate()"><label for="orange">Orange</label><br />
            <input id="green" type="checkbox" value="green" onchange="settingsUpdate()"><label for="green">Green</label><br />
            <input id="blue" type="checkbox" value="blue" onchange="settingsUpdate()"><label for="blue">Blue</label><br />
        </fieldset>
        <fieldset>
            <legend>Miscellaneous</legend>
            <input id="auf" type="checkbox" value="auf" checked="checked" onchange="settingsUpdate()"><label for="auf">Random AUF</label><br />
        </fieldset>
        <fieldset>
            <legend>Cases</legend>
            <input id="anyCase" type="checkbox" value="anyCase" onchange="settingsAnyCaseUpdate()"><label for="anyCase">Any</label>
            <hr style="border-color:#222;" />
            <input id="s" type="checkbox" value="R U R' U R U2 R'" checked="checked" onchange="settingsUpdate()"><label for="s">Sune</label><br />
            <input id="as" type="checkbox" value="R' U' R U' R' U2 R" onchange="settingsUpdate()"><label for="as">Anti-Sune</label><br />
            <input id="l" type="checkbox" value="R U2 R' U' R U R' U' R U R' U' R U' R'" onchange="settingsUpdate()">L case (bow tie, triple-sune)<label for="l"></label><br />
            <input id="u" type="checkbox" value="F R U R' U' F'" onchange="settingsUpdate()"><label for="u">U case (headlights)</label><br />
            <input id="t" type="checkbox" value="R U R' U' R' F R F'" onchange="settingsUpdate()"><label for="t">T case (blinkers, chameleon)</label><br />
            <input id="pi" type="checkbox" value="F R U R' U' R U R' U' F'" onchange="settingsUpdate()"><label for="pi">Pi case (bruno)</label><br />
            <input id="h" type="checkbox" value="F R U R' U' R U R' U' R U R' U' F'" onchange="settingsUpdate()"><label for="h">H case (double-headlights, double-sune)</label><br />
        </fieldset>
        <hr />
        <button onclick="Ui.twist(prompt('Twists'))">SimTwists</button>
    </body>
</html>
